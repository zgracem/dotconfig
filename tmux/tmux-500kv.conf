# -----------------------------------------------------------------------------
# Powerline-like status bar
# -----------------------------------------------------------------------------

set -g  status-style    bg=black,fg=default
set -g  window-status-separator ""

# left-side status

set -g  status-left-length  16
set -g  status-left-style   bg=blue,fg=brightwhite
set -g  status-left         " #{?client_prefix,⸢, }"
set -ga status-left         "#{host_short} "
set -ga status-left         " #[fg=black,reverse]"

# active window

set -g  window-status-current-style   bg=green,fg=brightwhite
set -g  window-status-current-format  "#[fg=black]#[fg=default] "
set -ga window-status-current-format  ":#I.#P"
set -ga window-status-current-format  "#{?window_zoomed_flag,ᶻ,} "
set -ga window-status-current-format  "#{s/reattach-to-user-namespace/bash/:window_name}"
set -ga window-status-current-format  "  #[fg=black,reverse]"

# background windows

set -g  window-status-style   bg=brightblack,fg=black
set -g  window-status-format  "#[fg=black]#[fg=default] "
set -ga window-status-format  ":#I.#P"
set -ga window-status-format  "#{?window_zoomed_flag,ᶻ,} "
set -ga window-status-format  "#{s/reattach-to-user-namespace/bash/:window_name}"
set -ga window-status-format  "#{?window_bell_flag,‼,}"
set -ga window-status-format  "  #[fg=black,reverse]"

# previous window
set -g  window-status-last-style  none,fg=white

# background window with bell alert
set -g  window-status-bell-style  none,bg=red

# right-side status

set -g  status-right-length 64
set -ug status-right-style

set -g  status-right ""
set -ga status-right "#{?session_many_attached,#[fg=black]#[bg=yellow]#[reverse]#[noreverse]#[fg=brightyellow] #{session_attached} ,}"

# set -ga status-right  "#[fg=brightblack]#[bg=brightblack,fg=default] "
# set -ga status-right  "#($HOME/Dropbox/src/tmux-weather.rb) "

# set -ga status-right  "#[fg=white]#[bg=white,fg=black] "
# set -ga status-right  "%F "  # yyyy-mm-dd
# set -ga status-right  "#[fg=brightwhite]#[bg=brightwhite,fg=black] "
# set -ga status-right  "%R  " # 24-hour time

set -ga status-right  "#[fg=magenta]#[bg=magenta,fg=black] "
set -ga status-right  "%F"  # yyyy-mm-dd
set -ga status-right  " #[fg=brightwhite] "
set -ga status-right  "%R  " # 24-hour time

# message line

set -g message-style          bg=brightblack,fg=default
set -g message-command-style  bg=brightblack,fg=default

# automatic rename format

set -g  automatic-rename on
set -g  automatic-rename-format "#{?pane_dead,#{?pane_active,#[fg=black],}†,}"
set -ga automatic-rename-format "#{?pane_in_mode,#[underscore],}"
set -ga automatic-rename-format "#{pane_current_command}"
set -ga automatic-rename-format "#[nounderscore]"
