#!/usr/bin/env fish

# Wrapper script for my fish function that converts between JSON, YAML, XML property
# lists, TOML, and CSON; allows it to be used non-interactively.

set src_file $__fish_config_dir/packages/pyjamas/functions/pyjamas.fish

if not path is -r "$src_file"
    echo >&2 "cannot find source file: $src_file"
    exit 1
end

# Load the function
. "$src_file"

# Give the function a name that doesn't shadow this very script
functions --copy pyjamas _pyjamas
functions --erase pyjamas

# Call the function
_pyjamas $argv
